@import "../../bootstrap-g4plus/components/imports";

@royal-blue: #005595;
@med-blue: #428bca;
@baby-blue: #f0f8ff;
@dark-blue: #3a87ad;
@orange: #f4a506;

@menu-popover-background-color: #EDF4FF; //darken(@menu-apps-bg-color, 3%); //#fff;
@menu-popover-font-color: #5c5c5c;
@menu-popover-left: -5px;
@border-gray: #e5e5e5;

@menu-apps-bg-color: desaturate(darken(@baby-blue, 7%), 45%);
@menu-icon-width: 30px;
@menu-icon-height: 35px;
@menu-icon-size: 30px; // the actual font icon

@breadcrumb-bg-color: #f3f3f3;

@aps-button-container-padding: 10px;
@app-button-height: 95px;
@app-button-width: 80px;
@app-button-rows: 3;
@app-buttons-per-row: 3;

@apps-list-start-width: 400px;
@apps-li-button-space: 10px;

// height of each row = button height + faux space
// multiply by number of rows
// plus the bottom padding of the container
@apps-list-height:
  (((@app-button-height + @apps-li-button-space)
  * @app-button-rows) + @aps-button-container-padding) - 40;

// This shouldn't be like this.
// @TODO: Revisit Caitlin's portal styles, add variables.

@original-bg-width: 112px;
@original-bg-height: 1699px;
@original-icon-width: 70px;
@original-bg-left: -24px;
@original-icon-vspace: 4px;
@shrink-by: .40;
@new-bg-width: ceil(@original-bg-width - (@original-bg-width * @shrink-by));
@new-bg-height: ceil(@original-bg-height - (@original-bg-height * @shrink-by));
@menu-icon-width: ceil(@original-icon-width - (@original-icon-width * @shrink-by));
@menu-icon-height: @menu-icon-width + 3px;
@new-bg-left: ceil(@original-bg-left - (@original-bg-left * @shrink-by));
@new-icon-vspace: ceil(@original-icon-vspace - (@original-icon-vspace * @shrink-by));

.popover {
  border-radius: 0;
}

#menu {
  position: relative;
  float: left;
  font-size: 12px;
  color: @body-text-color;

  a#menu-button {
    // need all the fixed widths to calculate position of the menu reorder icon for the arrow
    // and still have the whole menu-button as a trigger
    float: left;
    width: 40px;
    height: 30px;

    color: #fff; //lighten(@alg-orange, 5%);
    text-decoration: none;
    cursor: pointer;

    img, i {
      float: left;
      height: 30px;
    }

    i.icon-reorder {
      width: 30px;
      height: 30px;

      text-align: center;
      font-size: 20px;
      line-height: 26px;

    }

    &:hover {
      color: @alg-yellow; //#fff;
      i {
        background-color: lighten(@alg-blue, 17%);
      }
    }
  }

  div#menu-popover {
    position: absolute;
    top: 35px;
    left: @menu-popover-left;
    padding: 0;
    width: 587px;
    max-width: none;
    background-color: @menu-popover-background-color;

    div.slideWrap {
      height: @apps-list-height;
    }
  }

  .popover .arrow {
    border-width: 8px; // half of the triangle
    margin: 0;
    top: -16px;
    // popover left (if negative) + width of the logo + half the width of the icon
    // (cont.) - half of the arrow
    left: (abs(@menu-popover-left)+40px+15px-8px);

    border-color: transparent;
    border-bottom: 8px solid @menu-popover-background-color;

    // use this if you want to give the triangle a border by using its "shadow"
    &:after,
    &:before { border-width: 0 !important; }

  }

  div.apps {
    padding: 0; // resets padding provided by .col-sm-
    border-left: 1px solid #ddd;

    .page-header {
      height: 40px;
      max-height:40px;
      min-height:35px;
      padding: 10px 7px 7px 7px;

      input {
        height:30px;
        margin-top:-4px;
        border:0;
        color:black;

        &:focus {
          box-shadow:none;
        }
      }
    }

    ul.list-unstyled {
      margin: 0;
    }
  }

  .breadcrumbs, .breadcrumbs li, .breadcrumbs a {
    font-size: 11px;
  }

  .breadcrumbs {
    float: left;
    margin-left: @bootstrap-gutter-width/2 !important;
    padding: 2px 0 0 5px;
    border-left: 1px solid darken(@breadcrumb-bg-color, 20%);
    overflow: hidden;

    li {
      float: left;
      padding-right: 5px;

      a {
        display: block;
        //padding: 0 0 0 5px;
      }
    }

    a:hover {
      color: #3c3c3c;
    }
  }

  .menu-toolbar {
    width: 100%;
    padding: 7px 10px;
    #gradient > .vertical(@breadcrumb-bg-color, darken(@breadcrumb-bg-color, 10%));
    overflow: hidden;

    li {
      float: left;
      padding-right: 5px;

      a {
        display: block;
      }
    }

    a:hover {
      color: #3c3c3c;
    }
  }

  #menu-popover {

    &.narrow-menu {
      .arrow {
        border-bottom-color: #193665;
      }

      width: @apps-list-start-width !important;

      .col-sm-4,
      .col-sm-8 {
        width: 100%;
      }

      .col-sm-4 {
        float: right;
        height: (@apps-list-height/2);
        border-top: 1px solid darken(@baby-blue, 5%);
      }

      .col-sm-8 {
        float: left;
        border-left: 0 !important;
      }

    }

  }

  .search {
    padding: 0 5px;

    > a, > form {
      float: left;
    }

    > a {
      margin-top: 2px;
    }

    form {
      margin-left: @bootstrap-gutter-width/2;
      width: @apps-list-start-width - (@apps-list-start-width*.35);

      > input {
        float: left;
        padding: 0 3px;
        width: 65%;
        height: auto;
        font-size: 12px;
      }

      a.pull-left {
        margin: 2px 0 0 5px;
      }
    }
  }

}

ul.apps-list, ul.apps-list ul {
  padding: @aps-button-container-padding (@aps-button-container-padding + 3) @aps-button-container-padding @aps-button-container-padding !important;
  height: @apps-list-height;
}

ul.apps-list ul {
  margin: 0;
  display: none;
}

ul.apps-list {
  min-width: @apps-list-start-width;
  /*
    min-height of the buttons container = height of each button
      + margin of each row
      + top & bottom margin of container
      - the margin of the last row
  */

  li {
    float: left;
    margin-bottom: 0;
    padding: 0 !important;
    width: (100%/@app-buttons-per-row);
    height: @app-button-height + @apps-li-button-space;

    a {
      display: block;
      margin: 5px;
      padding: 10px 5px 10px 5px;
      width: auto;
      height: @app-button-height;

      font-size: 11px;
      line-height: 14px;
      text-align: center;
      color: @body-text-color !important;
      cursor: pointer;
      background-color: #fff;
      border:solid 1px #c5cbd4;

      // Caitlin's MX Portal Styles
      abbr {
        display: block;
        margin: 0 auto 5px;
        padding: 0;
        width: 50px;

        font-family:'Helvetica', Helvetica, Aria, sans-serif;
        font-size:20px;
        line-height:18px;
        color: @med-blue;

        overflow: hidden;
        text-align: center;

        //border: 1px solid #e6e6e6;
      }

      &:hover {
        text-decoration: none;
        border: solid 1px #e4e4e4;

        abbr, i {
          color: @alg-orange;
        }

        i {
          opacity: 1;
        }
      }
      &.back {
        color: #9c9c9c !important;

        i {
          padding: 5px 0 5px 0;
          width: @menu-icon-width;
          height: @menu-icon-width;

          font-size: @menu-icon-size;
        }
      }
    }

    span, i {
      display: block;
      margin: 0 auto 5px;
    }

    strong {
      font-weight: normal;
      font-family: "Helvetica" !important;
      line-height:12px;
    }
  }

}

div.recent {
  padding: 0 10px;
  overflow-y: auto;
  font-size: 13px;
  height: @apps-list-height;

  h4 {
    margin-bottom: 0;
    font-size: 13px;
    height: 30px;
    line-height: 30px;
    border-bottom: 1px solid darken(@baby-blue, 5%);
  }

  ul {
    margin-bottom: 0;
    overflow-y: hidden;

    li {
      margin: 0;
      padding: 0;
    }

    a {
      display: block;
      padding: 5px;
      color: lighten(@royal-blue, 10%);

      border-bottom: 1px solid darken(@baby-blue, 5%);

      &:hover {
        color: #fff;
        text-decoration: none;
        background-color: lighten(@royal-blue, 10%);

        i {
          color: lighten(@orange, 15%);
          font-size: 14px;
          opacity: 1;
        }
      }
    }
  }
}

ul.apps-list {

  // These positions assume the SVG file background. IE8 has it's own css file.

  .bg-position(@orig-top, @top-offset: 0) {
    background-position: (50% - ceil(@menu-icon-width/2) - @new-bg-left) (ceil(@orig-top - (@orig-top * @shrink-by)) + @top-offset);
  }

  i.g4_icon {
    display: block;
    width: 100%;
    height: @menu-icon-height;
    background-size: @new-bg-width @new-bg-height !important;
    background: url('../img/mx_sprite@0.6x.png') no-repeat;
    .bg-position(-297px, 0);

  }

  i.g4_icon.mx-admin-dmi {
    .bg-position(-887px, 0);
  }

  i.g4_icon.ac-admin-aircraft-panels {
    .bg-position(-960px, 0)
  }

  i.g4_icon.mx-admin-sourcedoc {
    .bg-position(-73px, 0);
  }

  i.g4_icon.mx-admin-failure-effect-codes {
    .bg-position(-223px, -1px);
  }

  i.g4_icon.mx-admin-oil-configuration {
    .bg-position(-591px, 0);
  }

  i.g4_icon.mx-admin-oil-types {
    .bg-position(-516px, 0);
  }

  i.g4_icon.mx-admin-oil-input-settings {
    .bg-position(-739px, 0);
  }

  i.g4_icon.mx-admin-originator-code {
    .bg-position(-369px, -1px);
  }

  i.g4_icon.mx-admin-skill-codes {
    .bg-position(-443px, 0);
  }

  i.g4_icon.mx-admin-uom {
    .bg-position(-665px, 0);
  }

  i.g4_icon.mx-admin-task-cards {
    .bg-position(-813px, 0);
  }

  i.g4_icon.mx-admin-discovery-codes {
    .bg-position(-1036px, 0);
  }

  i.g4_icon.ac-admin-aircraft-zones {
    .bg-position(-1109px, 0);
  }

  i.g4_icon.mx-admin-inspection-checkset {
    .bg-position(-1183px, 0);
  }

  i.g4_icon.mx-admin-mi-stage {
    .bg-position(-1254px, 0px);
  }

  i.g4_icon.mx-admin-mi-nature {
    .bg-position(-1334px, 0);
  }

  i.g4_icon.mx-admin-mi-procedure {
    .bg-position(-1403px, 0);
  }

  i.g4_icon.ac-admin-aircraft-rules {
    .bg-position(-1553px, 3px);
  }

  i.g4_icon.ac-admin-aircraft-tails {
    .bg-position(-1479px, 2px);
  }

  i.g4_icon.ac-admin-aircraft-type {
    .bg-position(-1630px, 2px);
  }

}

// these responsive width values are based on the fixed width of the menu
@media (max-width: 617px) {
  div#menu-popover {
    width: @apps-list-start-width !important;
  }
  #menu-popover .col-sm-4,
  #menu-popover .col-sm-8 {
    width: 100%;
  }
  #menu-popover .col-sm-4 {
    float: right;
    height: (@apps-list-height/2);
    border-top: 1px solid darken(@baby-blue, 5%);
  }
  #menu-popover .col-sm-8 {
    float: left;
    border-left: 0 !important;
  }
  .popover .arrow {
    border-bottom: 8px solid @breadcrumb-bg-color;
  }
}

@media (min-width: 618px) {
  #menu-popover .col-sm-4 {
    float: left;
  }
  #menu-popover .col-sm-8 {
    float: right;
  }
}

// Profile styles

#row-1{
  display: inline-block;
  padding: 10px 0 10px 0;
  text-align: center;
  height: 120px;
  background-color: @baby-blue;
}

#row-2{
  display: inline-block;
  padding: 0 10px 10px 10px;
  position: relative;
  top: 5px;
}

#user-details-profile{
  border: 1px solid @border-gray;
  text-align: left;
  clear:  both;
}

hr.title-separator {
  border: 0;
  height: 1px;
  margin: 10px 0 10px 0 !important;
  background-image: -webkit-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,0.15), rgba(0,0,0,0));
  background-image: -moz-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,0.15), rgba(0,0,0,0));
  background-image: -ms-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,0.15), rgba(0,0,0,0));
  background-image: -o-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,0.15), rgba(0,0,0,0));
}

#profile-picture{
  width: 100px;
  height: 100px;
  border: 1px solid @border-gray !important;
}

.profile-user-info{
  margin-bottom: 0;
  font-weight: normal;

  #user-name{
    color: #01559B;
    text-transform: uppercase;
  }

  #user-id{
    margin-top: 7px;
  }
}

div.profile-user-info{
  line-height: 15px;
  vertical-align: middle;
  position: relative;
  top: 10px;
}

.profile-details{
  color: #999;
  line-height: 26px;
  word-wrap: break-word;
}

#profile-user-id{
  width: 60px;
  text-align: center;
  background-color: #fe8129;
  color: white;
  padding: 4px 10px 2px 10px;
  margin-top: 10px;
}

#user-email{
  text-transform: lowercase;
}







/* Favorites Tab */

h2#header-title {
  position: relative;
  top: 5px;
}

.favorites-box {
  max-height: 256px;
  overflow-y: scroll;
  overflow-x: hidden;
  white-space: nowrap;
  cursor:pointer;

  .remove-icon {
    display: block;
    height: 50px;
    width: 50px;
    position: relative;
    background-color: #EDF4FA;
    border-left: 1px solid @border-gray;
    bottom: 10px;
    color:#e00;

    .icon.icon-minus-sign {
      display: block;
      text-align: middle;
      width: 50px;
      text-align: center;
      position: relative;
      top: 15px;
      font-size: 18px;
    }

    &:hover {
      font-size: 14px;
      color: #fff !important;
      background-color: #e00;
    }

  }
}

.favorites-list {
  line-height: 30px;
  padding: 10px;
  border-bottom: 1px solid @border-gray;
  border-right: 1px solid @border-gray;
  border-left: 1px solid @border-gray;


  color: #4487C1;
   a {
    color: #4487C1;
     &:hover {
      font-weight: bold;
     }
   }

  &:hover{
    background-color: #F8F8F8;
    color: #4487C1;

    a{
      color: #4487C1;
    }
  }

  &:first-child {
    border-top: 1px solid @border-gray;
  }

}





/* Roles Tab */


label.roles-label {
  display: block !important;
  border-bottom: 0 !important;
  padding: none !important;
  &:hover {
    background-color: #eee !important;
  }
}

li.dev-roles-list {
  line-height: 20px;
  padding: 10px;

  &:nth-child(odd) {
    border-right: 1px solid @border-gray;
  }

  &:hover {
    background-color: #eee !important;
  }

}





#user-profile-modal {
  width:600px;

}

