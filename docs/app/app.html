<!DOCTYPE html>

<html>
<head>
  <title>app.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>app.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-string">"use strict"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="app-module">App module</h1>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Defines the app module and list dependent controllers</p>
<ul>
<li>bullet point 1</li>
<li>bullet point 2</li>
<li>bullet point 3</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>App = angular.<span class="hljs-built_in">module</span>(<span class="hljs-string">"app"</span>, [
  <span class="hljs-string">'ui.router'</span>
  <span class="hljs-string">'src.templates'</span>
  <span class="hljs-string">'mx.menu'</span>
  <span class="hljs-string">'app.list'</span>
  <span class="hljs-string">'app.dashboard'</span>
  <span class="hljs-string">'app.view'</span>
  <span class="hljs-string">'app.add'</span>
  <span class="hljs-string">'app.edit'</span>
  <span class="hljs-string">'app.delete'</span>
  <span class="hljs-string">'app.roadtrip.add'</span>
  <span class="hljs-string">'app.roadtrip.view'</span>
  <span class="hljs-string">'app.roadtrip.edit'</span>
  <span class="hljs-string">'app.roadtrip.edittravel'</span>
  <span class="hljs-string">'app.roadtrip.addtravel'</span>
  <span class="hljs-string">'services.events'</span>
  <span class="hljs-string">'services.roadtrips'</span>
  <span class="hljs-string">'services.flights'</span>
  <span class="hljs-string">'services.stations'</span>
  <span class="hljs-string">'services.list_state'</span>
  <span class="hljs-string">'services.states'</span>
  <span class="hljs-string">'services.tailNumbers'</span>
  <span class="hljs-string">'services.parts'</span>
  <span class="hljs-string">'services.travel_arrangements'</span>
  <span class="hljs-string">'g4plus.directives'</span>
  <span class="hljs-string">'g4plus-date.directive'</span>
  <span class="hljs-string">'g4plus-date.filter'</span>
  <span class="hljs-string">'g4plus.sort-button'</span>
  <span class="hljs-string">'g4plus-loading.directive'</span>
  <span class="hljs-string">'g4ActionsButton'</span>
  <span class="hljs-string">'g4plus.autofocus'</span>
  <span class="hljs-string">'g4plus-super-list'</span>
  <span class="hljs-string">'g4plus.chart'</span>
  <span class="hljs-string">'g4plus-mapbox.directive'</span>
  <span class="hljs-string">'g4plus.ata-select'</span>
  <span class="hljs-string">'g4plus-comments'</span>
  <span class="hljs-string">'g4plus-file-upload'</span>
  <span class="hljs-string">'ui.select2'</span>
  <span class="hljs-string">'g4plus.employee-lookup'</span>
])</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h1 id="app-config">App config</h1>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Configures the project with routes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>App.config <span class="hljs-function"><span class="hljs-params">($stateProvider, $urlRouterProvider)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Home route</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'dashboard'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/dashboard'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/dashboard/dashboard.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'DashboardCtrl'</span>
    <span class="hljs-attribute">pageTitle</span>: <span class="hljs-string">'Dashboard'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>List wih parameters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'list'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/list?select&amp;page&amp;pageSize&amp;filter_value&amp;filter_option'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/list/list.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'ListCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>View</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'view'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/view/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/view/view.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'ViewCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>View with parameters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'view-param/:id'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/view/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/view/view.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'ViewCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Add</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'add'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/add'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/add/add.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'AddCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Road Trip</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'roadtrip/view'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/roadtrip/view/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/roadtrip/view.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'RoadTripViewCtrl'</span>
  }
  $stateProvider.state <span class="hljs-string">'roadtrip/edit'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/roadtrip/edit/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/roadtrip/edit.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'RoadTripEditCtrl'</span>
  }
  $stateProvider.state <span class="hljs-string">'roadtrip/add'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/roadtrip/add/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/roadtrip/add.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'RoadTripAddCtrl'</span>
  }
  $stateProvider.state <span class="hljs-string">'roadtrip/add_travel'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/roadtrip/add_travel/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/roadtrip/add_travel.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'RoadTripAddTravelCtrl'</span>
  }
  $stateProvider.state <span class="hljs-string">'roadtrip/edit_travel'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/roadtrip/edit_travel/:id/:editType'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/roadtrip/edit_travel.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'RoadTripEditTravelCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Edit</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $stateProvider.state <span class="hljs-string">'edit'</span>, {
    <span class="hljs-attribute">url</span>: <span class="hljs-string">'/edit/:id'</span>
    <span class="hljs-attribute">templateUrl</span>: <span class="hljs-string">'src/app/ui_flow/edit/edit.jade'</span>
    <span class="hljs-attribute">controller</span>: <span class="hljs-string">'EditCtrl'</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>For any unmatched url, redirect to /home</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $urlRouterProvider.otherwise(<span class="hljs-string">'/dashboard'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <h1 id="app-controller">App controller</h1>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Handles control of the app</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>App.controller <span class="hljs-string">"AppCtrl"</span>, A<span class="hljs-function"><span class="hljs-title">ppCtrl</span> = <span class="hljs-params">($scope, $rootScope)</span> -&gt;</span>

  $rootScope.appTitle = <span class="hljs-string">"AOS Work Control"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <h2 id="-statechangesuccess">$stateChangeSuccess</h2>

            </div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Updates the window title upon a state change (another sub-app is loaded)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $scope.$<span class="hljs-literal">on</span> <span class="hljs-string">"$stateChangeSuccess"</span>, <span class="hljs-function"><span class="hljs-params">(event, toState, toParams, fromState, fromParams)</span> -&gt;</span>
    $scope.pageTitle = toState.data.pageTitle + <span class="hljs-string">" | G4Plus"</span>  <span class="hljs-keyword">if</span> angular.isDefined(toState.data) &amp;&amp; angular.isDefined(toState.data.pageTitle)

App.config <span class="hljs-function"><span class="hljs-params">($httpProvider)</span> -&gt;</span>
  $httpProvider.defaults.headers.get = {}  <span class="hljs-keyword">unless</span> $httpProvider.defaults.headers.get</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>disable IE ajax request caching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $httpProvider.defaults.headers.get[<span class="hljs-string">'If-Modified-Since'</span>] = <span class="hljs-string">'0'</span></pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
